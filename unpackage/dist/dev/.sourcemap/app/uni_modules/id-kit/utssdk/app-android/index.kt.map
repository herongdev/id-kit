{"version":3,"sources":["uni_modules/id-kit/utssdk/app-android/index.uts"],"sourcesContent":["import type { IdValue } from \"../types.uts\"\r\nimport { DeviceIdNative } from \"uts.sdk.modules.idKit\"\r\n\r\n// 同意隐私：触发 OAID 预取，并把同意状态交给原生维护\r\nexport async function register(options ?: UTSJSONObject) : Promise<UTSJSONObject> {\r\n\ttry { DeviceIdNative.prefetchOaidAfterConsent() } catch { }\r\n\ttry { DeviceIdNative.setConsent(true) } catch { }\r\n\treturn { consent: true } as UTSJSONObject\r\n}\r\n\r\n// 设置盐：原生统一使用 salt 参与 hash 计算\r\nexport function setSalt(salt : string) : void {\r\n\ttry { DeviceIdNative.setSaltValue(salt) } catch { }\r\n}\r\n\r\nexport async function getBestId(options ?: UTSJSONObject) : Promise<UTSJSONObject> {\r\n\tconst prefer = options?.getArray<string>(\"prefer\")\r\n\tconst exposeRaw = options?.getBoolean(\"exposeRaw\") ?? false\r\n\tconst json = DeviceIdNative.getBestId(prefer?.toTypedArray(), exposeRaw) as string\r\n\tconst obj = JSON.parse(json) as UTSJSONObject\r\n\treturn obj\r\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AACA,OAA+B,qBAAuB,CAA7C;AAGF,IAAe,SAAS,SAAW,cAAa,GAAI,WAAQ,eAAc;IAAA,OAAA,eAAA;YAChF,IAAI;gBAAE,eAAe,wBAAwB;;aAAK,OAAA,cAAM,CAAA;YACxD,IAAI;gBAAE,eAAe,UAAU,CAAC,IAAI;;aAAI,OAAA,cAAM,CAAA;YAC9C,SAAO;gBAAE,IAAA,UAAS,IAAI;aAAE;KACxB;AAAD;AAGM,IAAU,QAAQ,MAAO,MAAM,GAAI,IAAI,CAAA;IAC5C,IAAI;QAAE,eAAe,YAAY,CAAC;;KAAQ,OAAA,cAAM,CAAA;AACjD;AAEO,IAAe,UAAU,SAAW,cAAa,GAAI,WAAQ,eAAc;IAAA,OAAA,eAAA;YACjF,IAAM,SAAS,SAAS,SAAS,MAAM,EAAE;YACzC,IAAM,YAAY,SAAS,WAAW,gBAAgB,KAAK;YAC3D,IAAM,OAAO,eAAe,SAAS,CAAC,QAAQ,gBAAgB,WAAU,EAAA,CAAI,MAAM;YAClF,IAAM,MAAM,4BAAI,CAAJ,KAAK,KAAK,CAAC,iEAAN,EAAA,CAAe;YAChC,SAAO;KACP;AAAD"}